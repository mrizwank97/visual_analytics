<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Destination EU Countries</title>
    <link rel="stylesheet" type="text/css" href="./style.css">
</head>
<body>

    <header>
        <h1>POTENTIAL DESTINATION COUNTRIES FOR 
            <br>
            <span class="international">International Students</span> 
            <br>
            IN THE EUROPEAN UNION</h1>
    </header>

    <div class="center-image">
        <img src="landscape.png">
        <p class="data-source">
            Image Source: <a href="https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.kindpng.com%2Ffree%2Flandmark%2F&psig=AOvVaw3F1Bq42UpcNdEOwxPIqcEc&ust=1706608903061000&source=images&cd=vfe&opi=89978449&ved=0CBIQjRxqFwoTCIjyxOCrgoQDFQAAAAAdAAAAABAU">kindpng</a>
        </p>
    </div>
    

    <div id="page-selection" class="page-selection">
        <!-- Add selection box for pages -->
        <label for="pageSelector">What Do You Want to Explore?</label>
        <div class="imagel">
            <img src="lupao.png">
        </div>
        <select id="pageSelector" onchange="navigateToPage()">
            <option value="employment">Employment</option>
            <option value="social">Social</option>
            <option value="salary">Salary</option>
        </select>
    </div>

    <div id="employmentPage" class="page-content">
        <!-- Employment page content -->
        <div class="aspect">
            <h1>Explore the Employment Landscape</h1>
        </div>
    
        <div class="container">
            
            <div class="split left content">
    
    
                <h2>Compare the Employment Levels between Immigrants and Natives </h2>
                <div class="description">
                    <p>The interactive mosaic chart on the right  provide insights into the distribution of employment across different segments. Within each country segment, rectangles are used to represent different categories of employment, with colors distinguishing between immigrants and natives. The width of each rectangle corresponds to the total employment in the respective category, and the height represents the proportion of immigrants and natives within that category.</p>
                    <p>This chart shows the facts for year <b><u>2022</u></b>.</p>
                </div>
                
                <div>
                    <label for="sexSelector">What is your sex?</label>
                    <br>
                    <select id="sexSelector">
                        <!-- Add options for each sex -->
                    </select>
                </div>
                <div>
                    <label for="isced11Dropdown">What is your education level?</label>
                    <br>
                    <select id="isced11Dropdown">
                        <!-- Add options for each education level -->
                    </select>
                </div>
    
                <div>
                    <label for="isco08Dropdown">What is your occupation?</label>
                    <br>
                    <select id="isco08Dropdown">
                        <!-- Add options for each occupation -->
                    </select>
                </div>
                <p>The <span class="top-five">TOP 5</span> countries with the highest amount of employed immigrants are highlighted in red. </p>
                <p class="data-source">
                    Data Source: <a href="https://ec.europa.eu/eurostat/databrowser/product/page/lfsa_egaisedm__custom_8864009">Eurostat</a>
                </p>
            </div>
    
            <div class="split right">
    
                <div id="chart"></div>
                <!-- Container for the legend -->
                <div id="legend" class="legend-container"></div>
    
            </div>  
    
        </div>
    
        <div class="container_c1">
                <p><b>Now that you have a better idea of which countries might be the most interesting for you, feel free to explore more about them.</b></p>
                <form id="countryForm">
                    <input type="checkbox" id="AT" name="country" value="AT"> <label for="AT">Austria</label>
                    <input type="checkbox" id="BE" name="country" value="BE"><label for="BE">Belgium</label>
                    <input type="checkbox" id="BG" name="country" value="BG"><label for="BG">Bulgaria</label>
                    <input type="checkbox" id="CY" name="country" value="CY"><label for="CY">Cyprus</label>
                    <input type="checkbox" id="CZ" name="country" value="CZ"><label for="CZ">Czechia</label>
                    <input type="checkbox" id="DE" name="country" value="DE"><label for="DE">Germany</label>
                    <input type="checkbox" id="DK" name="country" value="DK"><label for="DK">Denmark</label>
                    <input type="checkbox" id="EE" name="country" value="EE"><label for="EE">Estonia</label>
                    <input type="checkbox" id="EL" name="country" value="EL"><label for="EL">Greece</label>
                    <input type="checkbox" id="ES" name="country" value="ES"><label for="ES">Spain</label>
                    <input type="checkbox" id="FI" name="country" value="FI"><label for="FI">Finland</label>
                    <input type="checkbox" id="FR" name="country" value="FR"><label for="FR">France</label>
                    <input type="checkbox" id="HR" name="country" value="HR"><label for="HR">Croatia</label>
                    <input type="checkbox" id="HU" name="country" value="HU"><label for="HU">Hungary</label>
                    <input type="checkbox" id="IE" name="country" value="IE"><label for="IE">Ireland</label>
                    <input type="checkbox" id="IT" name="country" value="IT"><label for="IT">Italy</label>
                    <input type="checkbox" id="LT" name="country" value="LT"><label for="LT">Lithuania</label>
                    <input type="checkbox" id="LU" name="country" value="LU"><label for="LU">Luxembourg</label> <br>
                    <input type="checkbox" id="LV" name="country" value="LV"><label for="LV">Latvia</label>
                    <input type="checkbox" id="MT" name="country" value="MT"><label for="MT">Malta</label>
                    <input type="checkbox" id="NL" name="country" value="NL"><label for="NL">Netherlands</label>
                    <input type="checkbox" id="PL" name="country" value="PL"><label for="PL">Poland</label>
                    <input type="checkbox" id="PT" name="country" value="PT"><label for="PT">Portugal</label>
                    <input type="checkbox" id="RO" name="country" value="RO"><label for="RO">Romania</label>
                    <input type="checkbox" id="SE" name="country" value="SE"><label for="SE">Sweden</label>
                    <input type="checkbox" id="SI" name="country" value="SI"><label for="SI">Slovenia</label>
                    <input type="checkbox" id="SK" name="country" value="SK"><label for="SK">Slovakia</label>
                    <input type="checkbox" id="UK" name="country" value="UK"><label for="UK">United Kingdom</label>
                    <button type="button" class= "button" onclick="getSelectedCheckboxes()">Display Selected Countries</button>
                </form>
        </div>
    
        <div class="container">
            <div class="split right">
                <svg id="map"></svg>
                <script src="https://unpkg.com/eurostat-map"></script>
                <script>
                    function initializeMap() {
                        var map = eurostatmap
                            .map("chbi")
                            //.title("Unemployment and population density in 2022")
                            .height(600)
                            .width(675)
                            .nutsLvl(2)
                            .nutsYear(2016)
                            .stat("v1", { eurostatDatasetCode: "demo_r_d3dens", unitText: "inh./kmÂ²" })
                            .stat("v2", { eurostatDatasetCode: "lfst_r_lfu3rt", filters: { age: "Y_GE15", sex: "T", unit: "PC", time: 2022 }, unitText: "%", label: "Unemployment" })
                            .clnb(4)
                            .scale("60M")
                            .legend({ boxFill: "none", squareSize: 80, label1: "Unemployment", label2: "Population", x: 10, y: 140 })
                            .drawGraticule(false)
                            .seaFillStyle("#d3dee8")
                            .drawCoastalMargin(false)
                            .zoomExtent([1, 3])
                            .build();
                    }
                    initializeMap();
                    
                </script>
            </div>
            
            <div class="split left content">
                <h2>Unemployment and Population Density in Europe</h2>
                <div class="description">
                    <p> The map on the right shows the unemployment and population density in EU countries. You can select the countries of intereset by clicking the checkboxes above
                        and pressing the button. You can also hover over different regions of a country to see which areas have least unemployment rates. </p>
                        
                        <p>This chart shows the unemployment rates for year <b><u>2022</u></b>.</p>
                        
                </div>
                <p class="data-source">
                   
                        Data Source: <a href="https://ec.europa.eu/eurostat/databrowser/view/LFST_R_LFU3RT/default/table?lang=en">Eurostat</a>
                    </p>
            </div>
        </div>
    
        <div class="container">
            <div class="split left content">
                <h2>What if You Move to Another Country Today?</h2>
                <div class="description">
                    <p> The graph on the left shows the time it take to find the job in EU country. Lets say you move to a new country today,
                        the graph gives you an idea how quickly you can find the job in that country.The two top countries are <b>Netherlands</b> and <b>Malta</b>. In both countries 
                        about 75% of foreign people find job within 3 months. This chart shows the facts for year <b><u>2021</u></b>.</p>
    
                    <p>
                        You can hover over different countries to get the idea. Or click on the button below to show the stats for selected countries.                    
                    </p>
                </div>
                
                <button type="button" class= "button" onclick=" updateParallelForSelected()">Display Selected Countries</button>
                <p id="parallel-text"> . </p>
                <p class="data-source">
                    Data Source: <a href="https://ec.europa.eu/eurostat/databrowser/view/lfso_21obst04/default/table?lang=en&category=labour.employ.lfso.lfso_21.lfso_21obst">Eurostat</a>
                </p>
            </div>
            <div id="parallel" class="split right">
                <center><b>Hover over other lines to reveal countries and the percentage of people finding jobs in different time span</b></center>
            </div>
        </div>
    </div>

    <div id="socialPage" class="page-content" style="display: none;">
        <!-- Social page content -->
        <div class="aspect">
            <h1>Explore the Social Landscape</h1>
        </div>
    
        <div class="container">
            <div id="bubble" class="split left">
            </div>            
            <div class="split right content">
                <h2>Which Country Has Most Immigrants From Your Country?</h2>
                <label for="countries">Select a Country or a Region: </label>
                <select id="country-select" name="countries"></select>

                <script>
                    // Fetch the content of the file
                    fetch('countries.txt')
                        .then(response => response.text())
                        .then(data => {
                            // Split the file content into an array of country names
                            const countries = data.split('\n').filter(country => country.trim() !== '');

                            // Populate the dropdown with countries
                            const dropdown = document.getElementById("country-select");
                            countries.forEach(country => {
                                const option = document.createElement("option");
                                option.value = country.toLowerCase(); // Use lowercase for simplicity
                                option.text = country;
                                dropdown.add(option);
                            });
                        })
                        .catch(error => console.error('Error reading the file:', error));
                </script>
<div class="description">
    <p> The bubble chart on the left shows the number of migrants from your country to different EU countries. You can select your country from the dropdown menu above.
        The size of the bubble represents the number of migrants. This chart shows the facts for year <b><u>2021</u></b>.</p>
    <p>Data for <b><u> France</u></b> and <b><u>Germany</u></b> is not available country wise. </p>
    <p><b><u>Fun Fact</u></b>: You can drag the bubbles around in the chart. Hover over bubbles to reveal numbers.</p>
    
</div>
                
<p class="data-source">  Data Source: <a href="https://ec.europa.eu/eurostat/databrowser/view/migr_imm3ctb/default/table?lang=en">Eurostat</a>
                </p>
            </div>
        </div>
    </div>

    <div id="salaryPage" class="page-content" style="display: none;">
        <!-- Salary page content -->
        <div class="aspect">
            <h1>Explore the Salary Landscape</h1>
        </div>
    
        <div class="container">
        <div class="split left content">
            <h2>Gap between Monthly Cost of Living and Median Monthy Salary</h2>
            <div class="description">
                <p>The other important things for graduating student is to find jobs which offer them opportunities to save 
                    money. The graph on the righ shows the gap between the average salary and cost of living in different EU countries.
                    The graph can be sorted by different criteria from the drop down menu below. By default it is sorted by the widest gap. </p>
                <p>Hover over circles to reveal the euro value of corresponding categoy while hovering over the line will reveal the gap value.</p>
                    <p> In this setting, <b>Luxembourg</b>
                    has the widest gap between average salary and cost of living offering the best opportunity to save money. While <b>Greece</b> has the narrowest gap.</p>
                    <p>This chart shows the facts for year <b><u>2022</u></b>.</p>
            </div>
            
            </p>
            <select id="sort-select">
                <option value="widest_gap">Sort by Widest Gap</option>
                <option value="narrowest_gap">Sort by Narrowest Gap</option>
                <option value="by_country">Sort by Country</option>
                <option value="avg_salary_A">Sort in Ascending Order by Average Salary </option>
                <option value="cost_of_living_A">Sort in Ascending Order by Cost of Living</option>
                <option value="avg_salary_D">Sort in Descending Order by Average Salary</option>
                <option value="cost_of_living_D">Sort in Descending Order by Cost of Living</option>
              </select>
              <br>
              <p class="data-source">
                <br>
                Data Source: <a href="https://ec.europa.eu/eurostat/databrowser/view/tps00155/default/table?lang=en">Eurostat</a>
            </p>
        </div>
        <div id="clevland" class="split right">
            
        </div>
    </div>
    </div>
    <!-- <p class="data-source">
        Image Source: <a href="https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.kindpng.com%2Ffree%2Flandmark%2F&psig=AOvVaw3F1Bq42UpcNdEOwxPIqcEc&ust=1706608903061000&source=images&cd=vfe&opi=89978449&ved=0CBIQjRxqFwoTCIjyxOCrgoQDFQAAAAAdAAAAABAU">kindpng</a>
    </p> -->
    <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
    
    <script src="./script_bubble.js"></script>
    <script src="./script_rizwan.js"></script>
    <script src="./script_ingrid.js"></script>

    <script>
        function navigateToPage() {
            // Get the selected value from the selection box
            var selectedPage = document.getElementById("pageSelector").value;

            // Show/hide content based on the selected page
            document.getElementById("employmentPage").style.display = selectedPage === "employment" ? "block" : "none";
            document.getElementById("socialPage").style.display = selectedPage === "social" ? "block" : "none";
            document.getElementById("salaryPage").style.display = selectedPage === "salary" ? "block" : "none";
        }
    </script>

</body>
</html>
